# 実装計画

- [x] 1. プロジェクト基盤とDjango設定
  - Djangoプロジェクトの初期化とディレクトリ構造作成
  - 設定ファイル（base.py, development.py, production.py）の実装
  - 必要なパッケージ（DRF, CORS, JWT, LDAP等）のインストール設定
  - Docker Compose設定でPostgreSQL環境構築
  - _要件: 7.2_

- [x] 2. 認証システムの実装
  - [x] 2.1 Django認証モデルとLDAP連携の実装
    - カスタムユーザーモデルの作成
    - django-auth-ldapを使用したLDAP認証設定
    - JWT認証の設定（djangorestframework-simplejwt）
    - _要件: 7.2, 7.3_

  - [x] 2.2 認証APIエンドポイントの実装
    - ログイン、ログアウト、ユーザー情報取得APIの作成
    - 認証ミドルウェアとパーミッション設定
    - 認証失敗時のセキュリティログ記録機能
    - _要件: 7.2, 7.3_

- [x] 3. 社員管理機能の実装
  - [x] 3.1 Employeeモデルとシリアライザーの作成
    - 社員情報モデル（氏名、社員ID、部署、役職、勤務地等）の実装
    - バリデーション機能付きシリアライザーの作成
    - モデルのユニットテスト作成
    - _要件: 1.1, 1.2_

  - [x] 3.2 社員管理APIの実装
    - 社員CRUD操作のViewSetとURL設定
    - 社員情報変更時の履歴記録機能
    - 退職処理時のリソース回収対象マーク機能
    - _要件: 1.1, 1.2, 1.3_

- [x] 4. 端末管理機能の実装
  - [x] 4.1 Deviceモデルと割当モデルの作成
    - 端末情報モデル（種別、メーカー、モデル、シリアル番号等）の実装
    - DeviceAssignmentモデル（貸出履歴）の実装
    - モデル間のリレーション設定とバリデーション
    - _要件: 2.1, 2.2_

  - [x] 4.2 端末管理APIの実装
    - 端末CRUD操作とステータス管理API
    - 端末貸出・返却処理のAPI実装
    - 貸出履歴と現在の貸出状況表示機能
    - _要件: 2.1, 2.2, 2.3, 2.4_

- [-] 5. ライセンス管理機能の実装
  - [x] 5.1 Licenseモデルと割当モデルの作成
    - ライセンス情報モデル（ソフトウェア名、購入数、課金体系等）の実装
    - LicenseAssignmentモデル（ライセンス割当履歴）の実装
    - 利用可能数の自動計算とバリデーション機能
    - _要件: 3.1, 3.2, 3.5_

  - [x] 5.2 ライセンス管理APIの実装
    - ライセンスCRUD操作とライセンス割当API
    - ライセンス利用数制限とアラート機能
    - 有効期限監視と通知機能（30日前アラート）
    - 課金額計算機能（月額・年額・総コスト）
    - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 6. 権限管理システムの実装
  - [x] 6.1 権限ポリシーモデルの作成
    - PermissionPolicyモデル（役職別・部署別ルール）の実装
    - 個別制限設定機能の実装
    - 権限継承とオーバーライド機能
    - _要件: 4.1, 4.2_

  - [x] 6.2 権限制御ロジックの実装
    - 社員の役職変更時の権限自動更新機能
    - リソースアクセス制御とアクセス拒否処理
    - 権限変更通知機能
    - _要件: 4.2, 4.3, 4.4_

- [x] 7. 社員向けダッシュボード機能の実装
  - [x] 7.1 社員用APIエンドポイントの作成
    - 自分の割当リソース一覧表示API
    - 新規リソース申請API（申請理由、利用期間入力）
    - リソース返却申請API
    - _要件: 5.1, 5.2, 5.3_

  - [x] 7.2 ライセンス期限アラート機能の実装
    - ライセンス有効期限監視バッチ処理
    - 社員向け期限切れ警告表示機能
    - 管理者向け更新通知機能
    - _要件: 5.4_

- [x] 8. レポート機能の実装
  - [x] 8.1 利用状況レポートAPIの作成
    - 部署別・役職別・期間別リソース利用統計API
    - 在庫状況（利用率、余剰数、不足予測）計算API
    - レポートデータの集計とキャッシュ機能
    - _要件: 6.1, 6.2_

  - [x] 8.2 コスト分析レポートの実装
    - 部署別リソース利用コスト計算API
    - ソフトウェア別課金推移分析機能
    - CSV・PDF形式でのエクスポート機能
    - _要件: 6.2, 6.3, 6.4_

- [x] 9. フロントエンド基盤の実装
  - [x] 9.1 React プロジェクトセットアップ
    - Create React App + TypeScript環境構築
    - Tailwind CSS、React Query、React Router設定
    - i18next多言語対応設定（日本語・英語）
    - _要件: 7.1_

  - [x] 9.2 共通コンポーネントの作成
    - Layout、Header、Sidebar、LanguageSwitch コンポーネント
    - 認証状態管理とルート保護機能
    - エラーハンドリングとローディング状態管理
    - _要件: 7.1, 7.4_

- [x] 10. 管理者向けUI実装
  - [x] 10.1 社員管理画面の実装
    - 社員一覧・詳細・編集フォームコンポーネント
    - 社員検索・フィルタリング機能
    - 社員情報変更時の確認ダイアログ
    - _要件: 1.1, 1.2_

  - [x] 10.2 端末管理画面の実装
    - 端末一覧・登録・編集フォームコンポーネント
    - 端末貸出・返却処理画面
    - 貸出履歴表示とステータス管理UI
    - _要件: 2.1, 2.2, 2.3, 2.4_

  - [x] 10.3 ライセンス管理画面の実装
    - ライセンス一覧・登録・編集フォームコンポーネント
    - ライセンス割当・解除処理画面
    - 課金額表示と利用状況監視UI
    - _要件: 3.1, 3.2, 3.3, 3.5_

- [x] 11. 社員向けUI実装
  - [x] 11.1 社員ダッシュボードの実装
    - 自分の割当リソース表示コンポーネント
    - 新規申請フォーム（端末・ライセンス）
    - 返却申請フォームとステータス表示
    - _要件: 5.1, 5.2, 5.3_

  - [x] 11.2 通知・アラート機能の実装
    - ライセンス期限切れ警告表示
    - 申請承認・却下通知表示
    - システム通知とお知らせ機能
    - _要件: 5.4_

- [x] 12. レポート画面の実装
  - [x] 12.1 利用状況レポート画面の作成
    - 部署別・期間別利用統計グラフ表示
    - 在庫状況ダッシュボード
    - フィルタリングと期間選択機能
    - _要件: 6.1, 6.2_

  - [x] 12.2 コスト分析画面の実装
    - コスト分析グラフとチャート表示
    - ソフトウェア別課金推移表示
    - レポートエクスポート機能（CSV・PDF）
    - _要件: 6.2, 6.3, 6.4_

- [x] 13. テスト実装
  - [x] 13.1 バックエンドテストの作成
    - Django モデル・API・認証のユニットテスト
    - 権限制御とビジネスロジックの統合テスト
    - テストデータ作成用Fixturesとコマンド
    - _要件: 全要件のテストカバレッジ_

  - [x] 13.2 フロントエンドテストの作成
    - React コンポーネントのユニットテスト
    - 認証フローとページ遷移のE2Eテスト
    - 多言語切り替えと権限制御のテスト
    - _要件: 7.1, 7.4_

- [x] 14. 本番環境対応
  - [x] 14.1 セキュリティ設定の実装
    - Django セキュリティ設定（CSRF、CORS等）
    - 本番用環境変数とシークレット管理
    - ログ設定とエラー監視機能
    - _要件: 7.2, 7.3_

  - [x] 14.2 デプロイメント設定
    - Docker本番用設定とNginx設定
    - 静的ファイル配信設定
    - データベースマイグレーションとバックアップ設定
    - _要件: システム全体の安定稼働_
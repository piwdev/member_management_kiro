# 要件文書

## 概要

社内のソフトウェアライセンス、端末貸し出し、利用権限を統合管理するWebシステム。東京・沖縄の2拠点とフルリモート環境に対応し、多国籍社員の業務に応じた適切なリソース配布と権限管理を実現する。

## 要件

### 要件1

**ユーザーストーリー:** 管理者として、社員の基本情報と所属情報を管理したい。業務変更に応じて適切なリソース配布ができるようにするため。

#### 受け入れ基準

1. WHEN 管理者が社員情報を登録する THEN システムは 氏名、社員ID、所属部署、役職、勤務地（東京/沖縄/リモート）、入社日を記録する SHALL
2. WHEN 管理者が社員の所属情報を変更する THEN システムは 変更履歴を記録し、関連するリソース配布に影響を通知する SHALL
3. WHEN 社員が退職する THEN システムは 該当社員に割り当てられた全てのリソースを自動的に回収対象としてマークする SHALL

### 要件2

**ユーザーストーリー:** 管理者として、端末（PC、タブレット、スマートフォン等）の在庫と貸し出し状況を管理したい。適切な端末配布と資産管理を行うため。

#### 受け入れ基準

1. WHEN 管理者が端末を登録する THEN システムは 端末種別、メーカー、モデル、シリアル番号、購入日、保証期限、ステータス（利用可能/貸出中/修理中/廃棄）を記録する SHALL
2. WHEN 管理者が端末を社員に貸し出す THEN システムは 貸出日、返却予定日、使用目的を記録し、端末ステータスを「貸出中」に更新する SHALL
3. WHEN 社員が端末を返却する THEN システムは 返却日を記録し、端末ステータスを「利用可能」に更新する SHALL
4. WHEN 管理者が端末一覧を確認する THEN システムは 各端末の現在の貸出状況と貸出履歴を表示する SHALL

### 要件3

**ユーザーストーリー:** 管理者として、ソフトウェアライセンスの購入数と利用状況を管理したい。ライセンス違反を防ぎ、適切な予算管理を行うため。

#### 受け入れ基準

1. WHEN 管理者がソフトウェアライセンスを登録する THEN システムは ソフトウェア名、ライセンス種別、購入数、有効期限、ライセンスキー、利用条件、課金体系（月額/年額/買い切り）、単価を記録する SHALL
2. WHEN 管理者がライセンスを社員に割り当てる THEN システムは 割当日、利用開始日、利用目的を記録し、利用可能数を減算する SHALL
3. WHEN ライセンス利用数が購入数に達する THEN システムは 新規割当を制限し、管理者に通知する SHALL
4. WHEN ライセンスの有効期限が30日以内に迫る THEN システムは 管理者に更新通知を送信する SHALL
5. WHEN 管理者が課金状況を確認する THEN システムは ソフトウェア別の月額課金額、年間課金額、利用者数に基づく総コストを計算して表示する SHALL

### 要件4

**ユーザーストーリー:** 管理者として、社員の役職や業務内容に応じた利用権限を設定したい。セキュリティポリシーに従った適切なアクセス制御を行うため。

#### 受け入れ基準

1. WHEN 管理者が権限ポリシーを作成する THEN システムは 役職別、部署別の標準的な端末・ソフトウェア配布ルールを定義できる SHALL
2. WHEN 管理者が社員に個別制限を設定する THEN システムは 特定のソフトウェアや端末の利用禁止を記録し、該当リソースの割当を制限する SHALL
3. WHEN 社員の役職が変更される THEN システムは 新しい権限ポリシーに基づいて利用可能なリソースを自動更新し、変更内容を通知する SHALL
4. IF 社員が利用禁止されているリソースにアクセスを試みる THEN システムは アクセスを拒否し、管理者に通知する SHALL

### 要件5

**ユーザーストーリー:** 社員として、自分に割り当てられた端末とソフトウェアライセンスの状況を確認したい。適切にリソースを利用し、必要に応じて申請を行うため。

#### 受け入れ基準

1. WHEN 社員がシステムにログインする THEN システムは 現在割り当てられている端末とソフトウェアライセンスの一覧を表示する SHALL
2. WHEN 社員が新しいリソースを申請する THEN システムは 申請理由、利用期間、業務上の必要性を入力させ、承認フローに送信する SHALL
3. WHEN 社員がリソースの返却を申請する THEN システムは 返却予定日と返却理由を記録し、管理者に通知する SHALL
4. WHEN ライセンスの有効期限が近づく THEN システムは 該当社員に期限切れの警告を表示する SHALL

### 要件6

**ユーザーストーリー:** 管理者として、リソース利用状況のレポートを生成したい。予算計画と調達計画を適切に立てるため。

#### 受け入れ基準

1. WHEN 管理者がレポートを生成する THEN システムは 部署別、役職別、期間別のリソース利用統計を出力する SHALL
2. WHEN 管理者が在庫状況を確認する THEN システムは 端末とライセンスの利用率、余剰数、不足予測を表示する SHALL
3. WHEN 管理者がコスト分析を実行する THEN システムは 部署別のリソース利用コストと予算対比を計算し、ソフトウェア別の課金推移も表示する SHALL
4. WHEN レポート生成が完了する THEN システムは CSV、PDF形式でのエクスポート機能を提供する SHALL

### 要件7

**ユーザーストーリー:** システム管理者として、多言語対応と認証機能を提供したい。多国籍社員が安全にシステムを利用できるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがシステムにアクセスする THEN システムは 日本語をデフォルト言語として表示し、英語への切り替えオプションを提供する SHALL
2. WHEN ユーザーがログインする THEN システムは 社内認証システム（LDAP/Active Directory）との連携認証を実行する SHALL
3. WHEN 認証に失敗する THEN システムは セキュリティログに記録し、連続失敗時はアカウントを一時ロックする SHALL
4. WHEN ユーザーの権限が変更される THEN システムは 次回ログイン時に新しい権限を適用する SHALL